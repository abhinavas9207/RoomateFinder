{% extends 'base_user.html' %}
{% load static %}

{% block title %}My Preferences{% endblock %}

{% block content %}
<div class="preferences-page">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-9">
        <div class="pref-card animate-fade">

          <!-- Header -->
          <div class="pref-header">
            <div class="icon-box">
              <i class="bi bi-sliders2-vertical"></i>
            </div>
            <div>
              <h3 class="mb-1">My Preferences</h3>
              <p>Customize your roommate and lifestyle preferences</p>
            </div>
          </div>

          <!-- Form -->
          <form method="POST" novalidate>
            {% csrf_token %}

            <div class="row g-4">

              <!-- Budget -->
              <div class="col-md-6">
                <label class="form-label">Minimum Budget</label>
                {{ form.budget_min }}
              </div>

              <div class="col-md-6">
                <label class="form-label">Maximum Budget</label>
                {{ form.budget_max }}
              </div>

              <!-- Location -->
              <div class="col-12">
                <label class="form-label">Preferred Location</label>
                {{ form.preferred_location }}
              </div>

              <!-- Hobbies -->
              <div class="col-12">
                <label class="form-label mb-3">Select Hobbies</label>
                <div class="row g-3">
                  {% for checkbox in form.hobbies %}
                    <div class="col-md-4 col-sm-6">
                      <label class="hobby-card">
                        {{ checkbox.tag }}
                        <span>{{ checkbox.choice_label }}</span>
                      </label>
                    </div>
                  {% endfor %}
                </div>
              </div>

              <!-- Preferences -->
              <div class="col-md-6">
                <label class="form-label">Gender Preference</label>
                {{ form.gender_preference }}
              </div>

              <div class="col-md-6">
                <label class="form-label">Cleanliness Level</label>
                {{ form.cleanliness }}
              </div>

              <!-- Notes -->
              <div class="col-12">
                <label class="form-label">Lifestyle Notes</label>
                {{ form.lifestyle_notes }}
              </div>

              <!-- Switches -->
              <div class="col-md-4">
                <label class="switch-card">
                  {{ form.smoking }}
                  <span>Smoking</span>
                </label>
              </div>

              <div class="col-md-4">
                <label class="switch-card">
                  {{ form.drinking }}
                  <span>Drinking</span>
                </label>
              </div>

              <div class="col-md-4">
                <label class="switch-card">
                  {{ form.pets }}
                  <span>Pets</span>
                </label>
              </div>

            </div>

            <!-- Submit -->
            <div class="text-center mt-5">
              <button type="submit" class="btn-save">
                <i class="bi bi-save2 me-2"></i>Save Preferences
              </button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
/* PAGE */
.preferences-page { min-height: 100vh; background: #eef2ff; font-family: "Poppins", sans-serif; }

/* CARD */
.pref-card { background: #ffffff; border-radius: 24px; padding: 40px; box-shadow: 0 15px 40px rgba(79,70,229,0.15); border-top: 6px solid #4f46e5; }

/* HEADER */
.pref-header { display: flex; gap: 20px; align-items: center; margin-bottom: 35px; }
.icon-box { width: 54px; height: 54px; background: #eef2ff; border-radius: 14px; display: flex; align-items: center; justify-content: center; color: #4f46e5; font-size: 1.4rem; }
.pref-header h3 { font-weight: 700; color: #1e293b; }
.pref-header p { margin: 0; color: #64748b; }

/* FORM */
.form-label { font-weight: 600; color: #1e293b; margin-bottom: 6px; }
input, select, textarea { width: 100%; padding: 12px 14px; border-radius: 12px; border: 1px solid #c7d2fe; background: #eef2ff; transition: 0.3s ease; }
input:focus, select:focus, textarea:focus { outline: none; background: #ffffff; border-color: #4f46e5; box-shadow: 0 0 0 3px rgba(79,70,229,0.15); }

/* HOBBIES */
.hobby-card { display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: #f8fafc; border-radius: 14px; border: 1px solid #e0e7ff; transition: 0.3s ease; }
.hobby-card input[type="checkbox"] { width: 18px; height: 18px; accent-color: #4f46e5; cursor: pointer; }
.hobby-card span { font-weight: 500; color: #1e293b; }
.hobby-card:hover { background: #eef2ff; border-color: #4f46e5; transform: translateY(-2px); }

/* SWITCHES */
.switch-card { display: flex; align-items: center; gap: 12px; background: #f8fafc; padding: 14px; border-radius: 14px; border: 1px solid #e0e7ff; cursor: pointer; }

/* BUTTON */
.btn-save { background: linear-gradient(135deg, #4f46e5, #4338ca); color: #ffffff; padding: 12px 40px; border-radius: 999px; border: none; font-weight: 600; transition: 0.3s ease; }
.btn-save:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(79,70,229,0.35); }

/* ANIMATION */
@keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
.animate-fade { animation: fadeIn 0.6s ease; }

/* MOBILE */
@media (max-width: 576px) { .pref-card { padding: 28px; } }
</style>
{% endblock %}
